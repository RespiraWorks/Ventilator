# This Dockerfile creates an image that has the necessary tools to run unit tests and publish coverage reports

FROM debian:buster

WORKDIR /root/Ventilator

COPY . ./

WORKDIR /root/Ventilator/software/common

CMD /bin/bash \
    ./common.sh install && \
    ./common.sh install_local -f && \
    ./common.sh test --cov --no-checks && \
    ./common.sh cov_upload
